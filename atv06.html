<html>
  <head>
    <title>Organizador de Gastos</title>
  </head>
  <body>
     <br><label for='categoria'>Categoria: </label>
        <select id='selecionar-categoria'>
            <option selected>Mercado</option>
            <option>Transporte</option>
            <option >Aluguel</option>
            <option >Parcela Mensal</option>
           <option >Remédios</option>
           <option >Escola</option>
        </select>
    <label for='valor'>Valor: </label>
    <input type='number' id='valor'>
    <label for='data'>Data: </label>
    <input type='date' id='data'>
    
    <input type='button' value='Adicionar' onclick="adicionarLinha()" id='botao-tabela'>
    <input type='button' value='Calcular'>

    <table id='minhaTabela>
      <thead>
        
      </thead>
      <tbody>
        
      </tbody>
    </table>

    <script>
      let categoria = document.getElementById('selecionar-categoria').value;
      let valor = document.getElementById('valor').value;
      let data = document.getElementById('data').value;
      
function adicionarLinha() {
 // 1. CAPTURAR OS VALORES ATUAIS DOS ELEMENTOS
    // Se o elemento for um <select>, .value retorna a opção selecionada.
    let categoria = document.getElementById('categoria-select').value; 
    let valor = document.getElementById('valor').value;
    let data = document.getElementById('data').value;
    
    // Validação simples: evita adicionar linhas vazias
    if (!categoria || categoria === "" || !valor || !data) {
        alert("Por favor, preencha Categoria, Valor e Data antes de adicionar.");
        return; 
    }

    // 2. OBTER A REFERÊNCIA DO CORPO DA TABELA
    // Assumimos que o <tbody> é o primeiro (índice 0) elemento <tbody> na tabela.
    const tabela = document.getElementById("minhaTabela");
    const corpoTabela = tabela.getElementsByTagName("tbody")[0];

    // 3. CRIAR E PREENCHER A NOVA LINHA
    const novaLinha = document.createElement("tr");

    // Cria 3 células <td>
    const celulaCategoria = document.createElement("td");
    const celulaValor = document.createElement("td");
    const celulaData = document.createElement("td");

    // Adiciona o conteúdo capturado às células
    celulaCategoria.textContent = categoria;
    
    // Opcional: formata o valor como moeda brasileira
    celulaValor.textContent = parseFloat(valor).toLocaleString('pt-BR', { 
        style: 'currency', 
        currency: 'BRL' 
    });
    
    // Opcional: formata a data para dd/mm/aaaa
    const [ano, mes, dia] = data.split('-');
    celulaData.textContent = `${dia}/${mes}/${ano}`;

    // 4. ADICIONAR AS CÉLULAS À LINHA
    novaLinha.appendChild(celulaCategoria);
    novaLinha.appendChild(celulaValor);
    novaLinha.appendChild(celulaData);

    // 5. ADICIONAR A LINHA AO CORPO DA TABELA
    corpoTabela.appendChild(novaLinha);

    // 6. LIMPAR OS CAMPOS APÓS ADICIONAR (Melhora a usabilidade)
    document.getElementById('categoria-select').value = "";
    document.getElementById('valor').value = "";
    document.getElementById('data').value = "";
}
</script>
  </body>
</html>
